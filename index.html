<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    	<div> Before: <span id="before">...</span></div>
      <div>First: <span id="first">...</span></div>
      <div>Second: <span id="second">...</span></div>
      <div>Third: <span id="third">...</span></div>
			<div>After: <span id="after">...</span></div>
			

		<script>
			const timeout = (milliseconds, id) => {
				return new Promise((resolve) => {
					setTimeout(() => {
						document.getElementById(id).innerHTML = "Done!";
						resolve();
					}, milliseconds);
				});
			};

			document.getElementById("before").innerHTML = "Done!";

			// ["first", "second", "third"].forEach(async (id) => { await timeout(2000, id); });
			(async () => {				
				for(const item of ["first", "second", "third"]) {					
					let time = Math.floor(Math.random() * (4000 + 1000) + 1000);
					console.log(`${item}: ${time}`)					
					timeout(time, item);
					// await timeout(time, item);
				}

			})();

			document.getElementById("after").innerHTML = "Done!";
		</script>
    
</body>
</html>